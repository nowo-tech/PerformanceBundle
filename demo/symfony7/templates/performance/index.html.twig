{% extends 'base.html.twig' %}

{% block title %}Performance Metrics{% endblock %}

{% block body %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h1>Performance Metrics - {{ environment }}</h1>
            <p class="text-muted">Monitor and analyze route performance metrics</p>
        </div>
        <div class="d-flex gap-2">
            <a href="{{ path('nowo_performance.statistics', {env: environment}) }}" class="btn btn-info text-white">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="display: inline-block; vertical-align: middle; margin-right: 4px;">
                    <path d="M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V7zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0V9z"/>
                    <path d="M9 1.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zM5 1.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zM3.5 3A.5.5 0 0 0 3 3.5v.5A.5.5 0 0 0 3.5 4h.5a.5.5 0 0 0 .5-.5v-.5A.5.5 0 0 0 4 3h-.5zm9 0a.5.5 0 0 0-.5.5v.5a.5.5 0 0 0 .5.5h.5a.5.5 0 0 0 .5-.5v-.5a.5.5 0 0 0-.5-.5h-.5zM4 4.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-7z"/>
                </svg>
                Advanced Statistics
            </a>
            <a href="{{ path('home') }}" class="btn btn-secondary">Back to Home</a>
            <a href="{{ path('product_index') }}" class="btn btn-primary">View Products</a>
        </div>
    </div>

    {# Use Statistics Component from Bundle #}
    {% if component is defined %}
        {{ component('nowo_performance.Statistics', { stats: stats, template: 'bootstrap' }) }}
    {% else %}
        {% include '@NowoPerformanceBundle/components/Statistics.html.twig' with { stats: stats, template: 'bootstrap' } %}
    {% endif %}

    {# Use RoutesTable Component from Bundle #}
    {% if component is defined %}
        {{ component('nowo_performance.RoutesTable', { 
            routes: routes, 
            template: 'bootstrap',
            enableRecordManagement: false,
            enableReviewSystem: false
        }) }}
    {% else %}
        {% include '@NowoPerformanceBundle/components/RoutesTable.html.twig' with { 
            routes: routes, 
            template: 'bootstrap',
            enableRecordManagement: false,
            enableReviewSystem: false
        } %}
    {% endif %}
</div>
{% endblock %}
